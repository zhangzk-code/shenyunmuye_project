# 文档和脚本说明

## 文档结构

### 1. Nginx部署与配置指南.md
**内容**: Nginx 的安装、配置、管理和故障排查  
**对应脚本**: 
- `安装nginx.sh` - 安装 Nginx
- `配置nginx.sh` - 配置 Nginx
- `诊断nginx.sh` - 诊断 Nginx 问题

### 2. 服务用户配置说明.md
**内容**: 服务用户配置说明（所有服务使用 root 用户）  
**对应脚本**: 
- `启动所有服务.sh` - 自动以 root 用户启动所有服务

### 3. 请求限制和日志轮转配置指南.md
**内容**: 请求限制和日志轮转配置  
**对应脚本**: 
- `logrotate配置.sh` - 配置日志轮转
- `快速配置请求限制和日志轮转.sh` - 一键配置

### 4. 服务诊断与故障排查指南.md
**内容**: 服务诊断和故障排查方法  
**对应脚本**: 
- `诊断管理后台.sh` - 通用服务诊断脚本
- `诊断nginx.sh` - Nginx 专用诊断脚本

## 脚本结构

### 核心脚本（必需）

1. **启动所有服务.sh** - 启动所有服务（Nginx + Node.js 后端）
2. **停止所有服务.sh** - 停止所有服务
3. **诊断管理后台.sh** - 通用服务诊断工具

### Nginx 相关脚本

1. **安装nginx.sh** - 安装 Nginx（整合了所有安装方法）
2. **配置nginx.sh** - 配置 Nginx
3. **诊断nginx.sh** - 诊断 Nginx 问题（整合了所有诊断功能）

### 其他脚本

1. **logrotate配置.sh** - 配置日志轮转
2. **快速配置请求限制和日志轮转.sh** - 一键配置请求限制和日志轮转
3. **安装依赖.sh** - 安装项目依赖
4. **检查依赖.sh** - 检查项目依赖

## 使用流程

### 首次部署

1. 安装 Nginx: `sudo ./安装nginx.sh`
2. 配置 Nginx: `sudo ./配置nginx.sh`
3. 安装依赖: `./安装依赖.sh`
4. 启动服务: `./启动所有服务.sh`

### 日常使用

- 启动服务: `./启动所有服务.sh`
- 停止服务: `./停止所有服务.sh`
- 诊断问题: `./诊断管理后台.sh` 或 `sudo ./诊断nginx.sh`

### 故障排查

1. 使用诊断脚本: `./诊断管理后台.sh` 或 `sudo ./诊断nginx.sh`
2. 查看对应文档: 参考 `服务诊断与故障排查指南.md`
3. 修复问题: 使用对应的配置脚本

## 文档和脚本对应关系

| 文档 | 对应脚本 |
|------|---------|
| Nginx部署与配置指南.md | 安装nginx.sh, 配置nginx.sh, 诊断nginx.sh |
| 服务用户配置说明.md | 启动所有服务.sh |
| 请求限制和日志轮转配置指南.md | logrotate配置.sh, 快速配置请求限制和日志轮转.sh |
| 服务诊断与故障排查指南.md | 诊断管理后台.sh, 诊断nginx.sh |

## 已删除的冗余文件

以下文件已整合到新文档/脚本中，已删除：

**文档**:
- nginx-pid说明.md
- nginx使用说明.md
- nginx安装说明.md
- nginx迁移快速指南.md
- nginx迁移指南.md
- 用户配置总结.md
- 问题分析报告.md
- 排查管理后台问题.md

**脚本**:
- 解决nginx安装问题.sh
- 修复nginx仓库.sh
- 修复nginx路径.sh
- 快速修复nginx路径.sh
- 修复nginx路径正确.sh
- 快速修复nginx权限.sh
- 修复nginx配置完整.sh
- 检查nginx配置.sh
- 诊断nginx404问题.sh
- 深度诊断nginx.sh
- 安装http-server.sh

## 总结

现在项目结构更加清晰：
- ✅ 4 个核心文档，主题明确
- ✅ 9 个核心脚本，功能不重复
- ✅ 文档和脚本一一对应
- ✅ 易于维护和使用

