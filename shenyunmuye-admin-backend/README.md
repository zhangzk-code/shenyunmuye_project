# ç”³å…æœ¨ä¸š - ç®¡ç†åå°åç«¯æœåŠ¡

è¿™æ˜¯ç”³å…æœ¨ä¸šç®¡ç†åå°çš„åç«¯APIæœåŠ¡ï¼Œæä¾›ç”¨æˆ·è®¤è¯å’Œæ•°æ®ç®¡ç†åŠŸèƒ½ã€‚

## ğŸ“‹ åŠŸèƒ½

- ç”¨æˆ·ç™»å½•/ç™»å‡º
- Tokenè®¤è¯
- è”ç³»è®°å½•ç®¡ç†
- é¢„çº¦è®°å½•ç®¡ç†
- æ•°æ®çŠ¶æ€æ›´æ–°

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 14.0.0
- npm >= 6.0.0

### å®‰è£…æ­¥éª¤

1. **å®‰è£…ä¾èµ–**
   ```bash
   cd shenyunmuye-admin-backend
   npm install
   ```

2. **å¯åŠ¨æœåŠ¡å™¨**
   ```bash
   npm start
   ```
   æˆ–ä½¿ç”¨å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡å¯ï¼‰ï¼š
   ```bash
   npm run dev
   ```

3. **éªŒè¯æœåŠ¡**
   - APIå¥åº·æ£€æŸ¥ï¼šhttp://localhost:3001/api/admin/health

## ğŸ” é»˜è®¤è´¦æˆ·

é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨åˆ›å»ºé»˜è®¤ç®¡ç†å‘˜è´¦æˆ·ï¼š
- **ç”¨æˆ·å**ï¼šadmin
- **å¯†ç **ï¼šadmin123

**é‡è¦**ï¼šç”Ÿäº§ç¯å¢ƒè¯·ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ï¼

## ğŸ“¡ APIæ¥å£

### è®¤è¯æ¥å£

- **POST** `/api/admin/auth/login` - ç”¨æˆ·ç™»å½•
- **POST** `/api/admin/auth/logout` - ç”¨æˆ·ç™»å‡º
- **GET** `/api/admin/auth/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯

### æ•°æ®ç®¡ç†æ¥å£

- **GET** `/api/admin/contacts` - è·å–è”ç³»è®°å½•åˆ—è¡¨
- **GET** `/api/admin/appointments` - è·å–é¢„çº¦è®°å½•åˆ—è¡¨
- **PUT** `/api/admin/contacts/:id` - æ›´æ–°è”ç³»è®°å½•çŠ¶æ€
- **PUT** `/api/admin/appointments/:id` - æ›´æ–°é¢„çº¦è®°å½•çŠ¶æ€

è¯¦ç»†APIæ–‡æ¡£è¯·å‚è€ƒï¼š[APIæ¥å£æ–‡æ¡£](./API.md)

## ğŸ”§ é…ç½®

### ç«¯å£é…ç½®

é»˜è®¤ç«¯å£ä¸º `3001`ï¼Œå¯é€šè¿‡ç¯å¢ƒå˜é‡ä¿®æ”¹ï¼š

```bash
ADMIN_PORT=8080 npm start
```

### å‰ç«¯åœ°å€é…ç½®

ç®¡ç†åå°å‰ç«¯é»˜è®¤åœ°å€ï¼š`http://localhost:8081`

å¯é€šè¿‡ç¯å¢ƒå˜é‡ä¿®æ”¹ï¼š

```bash
ADMIN_FRONTEND_URL=http://localhost:8081 npm start
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
shenyunmuye-admin-backend/
â”œâ”€â”€ server.js          # ä¸»æœåŠ¡å™¨æ–‡ä»¶
â”œâ”€â”€ package.json       # ä¾èµ–é…ç½®
â”œâ”€â”€ .gitignore        # Gitå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ data/             # æ•°æ®å­˜å‚¨ç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”‚   â”œâ”€â”€ users.json         # ç”¨æˆ·æ•°æ®
â”‚   â””â”€â”€ sessions.json     # ä¼šè¯æ•°æ®
â””â”€â”€ README.md         # æœ¬æ–‡ä»¶
```

## ğŸ”’ å®‰å…¨è¯´æ˜

1. **å¯†ç å­˜å‚¨**ï¼šä½¿ç”¨SHA256å“ˆå¸Œå­˜å‚¨å¯†ç 
2. **Tokenè®¤è¯**ï¼šä½¿ç”¨éšæœºç”Ÿæˆçš„tokenè¿›è¡Œä¼šè¯ç®¡ç†
3. **ä¼šè¯è¿‡æœŸ**ï¼šTokené»˜è®¤24å°æ—¶åè¿‡æœŸ
4. **å•ç‚¹ç™»å½•**ï¼šåŒä¸€ç”¨æˆ·ç™»å½•ä¼šæ¸…é™¤ä¹‹å‰çš„ä¼šè¯

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²**ï¼š
   - ä¿®æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç 
   - ä½¿ç”¨HTTPS
   - é…ç½®æ›´å¼ºçš„å¯†ç ç­–ç•¥
   - è€ƒè™‘ä½¿ç”¨JWTæ›¿ä»£å½“å‰tokenæœºåˆ¶

2. **æ•°æ®å¤‡ä»½**ï¼š
   - å®šæœŸå¤‡ä»½ `data/` ç›®å½•ä¸‹çš„JSONæ–‡ä»¶

## ğŸ“„ è®¸å¯è¯

ISC License

